<!DOCTYPE html>
<html>
<head>
    <title>Event Test</title>
</head>
<body>
    <h1>Event Test</h1>
    <div id="test-results"></div>
    
    <script>
        async function testEvents() {
            const results = document.getElementById('test-results');
            
            try {
                console.log('Testing API call...');
                const response = await fetch('/api/events?city_id=10&time_range=this_week&event_type=');
                const events = await response.json();
                
                console.log('API response:', events);
                results.innerHTML = `
                    <p>API returned ${events.length} events</p>
                    <p>First event title: ${events[0]?.title || 'None'}</p>
                    <p>First event venue: ${events[0]?.venue_name || 'None'}</p>
                `;
                
                if (events.length > 0) {
                    results.innerHTML += '<h3>Events:</h3>';
                    events.forEach((event, index) => {
                        results.innerHTML += `
                            <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                                <h4>${event.title}</h4>
                                <p>Venue: ${event.venue_name}</p>
                                <p>Date: ${event.start_date}</p>
                                <p>Time: ${event.start_time}</p>
                            </div>
                        `;
                    });
                }
                
            } catch (error) {
                console.error('Test error:', error);
                results.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }
        
        // Run test when page loads
        testEvents();
    </script>
</body>
</html>
